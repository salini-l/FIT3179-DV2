<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
  
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">


</head>
<body>
  <header>
    <h1>Climate Change Visualisations</h1>
    <p class="note">2010s temperature anomaly map and Australia-focused charts.</p>
  </header>

  <main>
    <section class="grid">
      <section class="card">
        <h2>Map — 2010s Above/Below Global Mean</h2>
        <div id="world_map" class="vis"></div>
      </section>

      <section class="card">
        <h2>Australia — Decadal Mean Temperature Anomaly</h2>
        <div id="aus_decadal" class="vis"></div>
      </section>
    </section>

      <section class="card">
        <h2>Trend Graph</h2>
        <div id="aus_trend" class="vis"></div>
      </section>
    </section>


    <section class="grid" style="margin-top:16px">
      <section class="card" style="grid-column:1/-1">
        <h2>Australia — Annual Anomalies by Decade (Boxplots)</h2>
        <div id="aus_boxplots" class="vis"></div>
      </section>
    </section>
  </main>

  <footer>
    Source: FAO Global Surface Temperature Change (baseline 1951–1980). Visualised with Vega-Lite.
  </footer>

  <script>
    // ==== SPEC URLs (update if your paths/filenames differ) ====
    const MAP_SPEC      = "https://raw.githubusercontent.com/salini-l/FIT3179-DV2/refs/heads/main/climate_map/js/climate_choropleth.vg.json";
    const AUS_BARS_SPEC = "https://raw.githubusercontent.com/salini-l/FIT3179-DV2/refs/heads/main/bar_graph/js/bar_graph.vg.js";
    const AUS_TREND_SPEC = "https://raw.githubusercontent.com/salini-l/FIT3179-DV2/refs/heads/main/trend/js/country_trend.vg.json"
    const AUS_BOX_SPEC  = "https://raw.githubusercontent.com/salini-l/FIT3179-DV2/refs/heads/main/box_plot/js/box_plot.vg.json";

    function showErr(mountSelector, url, err){
      const el = document.querySelector(mountSelector);
      el.innerHTML = `<div class="err">Failed to load visualisation.\n\nSpec URL tried:\n${url}\n\n${err}</div>`;
      console.error(err);
    }

    vegaEmbed("#world_map", MAP_SPEC, {actions:false}).catch(err => showErr("#world_map", MAP_SPEC, err));
    vegaEmbed("#aus_decadal", AUS_BARS_SPEC, {actions:false}).catch(err => showErr("#aus_decadal", AUS_BARS_SPEC, err));
    vegaEmbed("#aus_trend", AUS_TREND_SPEC, {actions:false}).catch(err => showErr("#aus_trend", AUS_TREND_SPEC, err));
    vegaEmbed("#aus_boxplots", AUS_BOX_SPEC, {actions:false}).catch(err => showErr("#aus_boxplots", AUS_BOX_SPEC, err));
  </script>
</body>
</html>
