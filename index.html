<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
  
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">


</head>
<body>
  <header>
    <h1>Climate Change Visualisations</h1>
    <p class="note">Map of 2010s temperature anomaly and an interactive country trend (ΔT vs 1960 baseline).</p>
  </header>

  <main class="grid">
    <!-- Map -->
    <section class="card">
      <h2>Global Temperature Anomaly — Choropleth</h2>
      <div id="map" class="vis"></div>
    </section>

    <!-- Country trend -->
    <section class="card">
      <h2>Temperature Anomaly Over Time — Country Selector</h2>
      <div id="trend" class="vis"></div>
    </section>
  </main>

  <script>
    // Use your GitHub Pages site so paths resolve cleanly
    const MAP_SPEC   = "https://salini-l.github.io/fit3179-week9-map/js/climate_choropleth.vg.json";
    const TREND_SPEC = "https://raw.githubusercontent.com/salini-l/fit3179-week10hw/refs/heads/main/trend/js/country_trend.vg.json"; 

    function showErr(el, url, err){
      document.querySelector(el).innerHTML =
        `<div class="err">Failed to load the visualisation.\n\nSpec URL tried:\n${url}\n\n${err}</div>`;
    }

    vegaEmbed("#map", MAP_SPEC,   {actions:false})
      .catch(err => showErr("#map", MAP_SPEC, err));

    vegaEmbed("#trend", TREND_SPEC, {actions:false})
      .catch(err => showErr("#trend", TREND_SPEC, err));
  </script>
</body>
</html>